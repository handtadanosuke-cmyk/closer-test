<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Closer</title>
    
    <style>
        /* --- ãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ•° --- */
        :root {
            --bg-color: #000000;
            --card-bg: #1c1c1e;
            --text-main: #ffffff;
            --text-sub: #8e8e93;
            --accent: #FFD700; 
            --toggle-on: #ffcc00; 
            --premium: #ff2d55; 
            --standard: #007aff; 
            --company: #34c759; 
            --danger: #ff453a;
            --coin: #FFA500;
            --safe-top: env(safe-area-inset-top);
            --safe-bottom: env(safe-area-inset-bottom);
            --menu-width: 280px;
        }
        
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            height: 100vh; height: 100dvh;
            overflow: hidden;
            user-select: none;
        }

        /* --- ç”»é¢ç®¡ç† --- */
        .screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: none; flex-direction: column; overflow-y: auto;
            background: var(--bg-color);
            padding-top: var(--safe-top); padding-bottom: var(--safe-bottom);
            animation: fadeIn 0.2s ease;
        }
        .screen.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- UIãƒ‘ãƒ¼ãƒ„ --- */
        .btn {
            display: flex; justify-content: center; align-items: center;
            width: 100%; padding: 16px; border-radius: 12px;
            font-weight: 700; font-size: 16px; cursor: pointer; border: none;
            transition: opacity 0.1s; margin-bottom: 12px;
        }
        .btn:active { opacity: 0.7; }
        .btn-gold { background: var(--accent); color: #000; }
        .btn-standard { background: var(--standard); color: #fff; }
        .btn-premium { background: var(--premium); color: #fff; }
        .btn-company { background: var(--company); color: #fff; }
        .btn-coin { background: var(--coin); color: #000; }
        .btn-outline { background: transparent; border: 1px solid var(--text-sub); color: var(--text-main); }
        .btn-text { background: transparent; color: var(--text-sub); font-size: 14px; text-decoration: underline; }
        .btn-danger { background: rgba(255, 69, 58, 0.1); color: var(--danger); border: 1px solid var(--danger); }
        .btn-apple { background: #fff; color: #000; margin-bottom: 15px; position:relative; }
        .btn-apple::before { content: 'ï£¿ Pay'; font-family: -apple-system; font-weight: 600; font-size: 18px; }

        input, select, textarea {
            width: 100%; padding: 14px; margin-bottom: 15px;
            background: var(--card-bg); border: 1px solid #333;
            border-radius: 10px; color: var(--text-main); font-size: 16px;
            outline: none;
            color: var(--text-main); 
        }
        input:disabled { background: #111; color: #555; border-color: #222; }
        textarea { resize: none; }

        /* --- ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆå…±é€šï¼‰ --- */
        .app-header {
            background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);
            padding: 10px 15px; position: sticky; top: 0; z-index: 10;
            border-bottom: 1px solid #222;
            display: flex; justify-content: space-between; align-items: center;
            height: 60px;
        }
        .menu-btn { font-size: 24px; cursor: pointer; padding: 5px; width: 40px; }
        .header-action { width: 40px; text-align: right; font-size: 20px; cursor: pointer; }
        
        .logo-btn { display: flex; align-items: center; gap: 5px; cursor: pointer; }
        .logo-icon { font-size: 20px; }
        .logo-text { font-weight: 800; font-size: 20px; color: var(--text-main); letter-spacing: 0.5px; font-family: 'Georgia', serif; }

        /* --- ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ --- */
        #menu-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 998;
            opacity: 0; pointer-events: none; transition: opacity 0.3s;
            backdrop-filter: blur(2px);
        }
        #menu-overlay.open { opacity: 1; pointer-events: auto; }

        #side-menu {
            position: fixed; top: 0; left: 0; width: var(--menu-width); height: 100%;
            background: #151515; z-index: 999;
            transform: translateX(-100%); transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1);
            padding-top: calc(var(--safe-top) + 20px);
            border-right: 1px solid #333;
            display: flex; flex-direction: column;
        }
        #side-menu.open { transform: translateX(0); }

        .menu-header { padding: 20px; border-bottom: 1px solid #333; display: flex; align-items: center; gap: 15px; cursor: pointer; }
        .menu-user-icon { width: 50px; height: 50px; border-radius: 50%; background: #333; display: flex; justify-content: center; align-items: center; font-size: 24px; border: 2px solid var(--accent); overflow: hidden; }
        .menu-user-icon img { width: 100%; height: 100%; object-fit: cover; }
        .menu-user-name { font-weight: bold; font-size: 16px; margin-bottom: 3px; }
        .menu-user-rank { font-size: 11px; color: var(--accent); border: 1px solid var(--accent); padding: 2px 6px; border-radius: 4px; display: inline-block; }
        .menu-list { flex: 1; overflow-y: auto; padding: 10px 0; }
        .menu-item { padding: 15px 20px; display: flex; align-items: center; color: var(--text-main); font-size: 15px; cursor: pointer; transition: background 0.2s; }
        .menu-item:active { background: #222; }
        .menu-icon { margin-right: 12px; font-size: 18px; width: 24px; text-align: center; }

        /* --- èªè¨¼ãƒ»ç™»éŒ²é–¢é€£ --- */
        .auth-tabs { display: flex; margin-bottom: 20px; border-bottom: 1px solid #333; }
        .auth-tab { flex: 1; padding: 10px; text-align: center; color: #666; cursor: pointer; border-bottom: 2px solid transparent; }
        .auth-tab.active { color: var(--accent); border-bottom-color: var(--accent); font-weight: bold; }
        .tag-container { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px; }
        .choice-tag { padding: 8px 12px; border-radius: 20px; border: 1px solid #444; color: var(--text-sub); font-size: 12px; cursor: pointer; }
        .choice-tag.selected { background: var(--accent); color: #000; border-color: var(--accent); }

        /* --- ã‚«ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆ --- */
        .content { padding: 20px; flex: 1; }
        .card { background: var(--card-bg); border-radius: 16px; padding: 16px; margin-bottom: 15px; position: relative; overflow: hidden; cursor: pointer; }
        .card:active { opacity: 0.9; }
        .card-meta { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px; color: #888; }
        .card-user { display: flex; align-items: center; gap: 5px; }
        .user-mini-icon { width: 20px; height: 20px; border-radius: 50%; background: #444; object-fit: cover; }
        .rank-badge { background: var(--accent); color: #000; padding: 2px 8px; border-radius: 4px; font-weight: bold; font-size: 11px; }
        .q-title { font-weight: 700; font-size: 16px; margin-bottom: 8px; line-height: 1.5; color: var(--text-main); }
        .q-context { font-size: 13px; color: #aaa; margin-bottom: 10px; padding: 8px; background: #222; border-radius: 8px; border-left: 2px solid #555; }
        .tags { display: flex; gap: 5px; flex-wrap: wrap; margin-bottom: 10px; }
        .tag { background: #000; border: 1px solid #333; color: #aaa; padding: 4px 10px; border-radius: 20px; font-size: 10px; }
        .card-actions { display: flex; border-top: 1px solid #333; padding-top: 10px; }
        .action-item { flex: 1; text-align: center; font-size: 13px; color: #888; cursor: pointer; display: flex; justify-content: center; align-items: center; gap: 5px; z-index: 2; position: relative; }
        .action-item.active { color: var(--accent); }

        /* --- è©³ç´°ãƒ»å›ç­” --- */
        .answer-card { background: #151515; border-radius: 12px; padding: 15px; margin-bottom: 15px; border-left: 3px solid #333; }
        .answer-header { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 12px; }
        .answer-author { display: flex; align-items: center; gap: 8px; color: #fff; font-weight: bold; cursor: pointer; }
        .answer-body { font-size: 15px; line-height: 1.6; margin-bottom: 15px; white-space: pre-wrap; }
        .answer-reason { font-size: 13px; color: #aaa; margin-top: 10px; padding-top: 10px; border-top: 1px dashed #333; }
        /* ã¼ã‹ã—ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
        .blur-content { filter: blur(6px); user-select: none; opacity: 0.6; }
        .unlock-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; background: rgba(0,0,0,0.3); z-index: 10; border-radius: 12px; }

        /* è©•ä¾¡UI */
        .rating-grid { display: flex; flex-direction:column; gap:8px; margin-top:10px; padding:10px; background:#222; border-radius:8px; }
        .rating-row { display: flex; align-items: center; justify-content: space-between; font-size: 12px; }
        .rating-slider { flex: 1; margin: 0 10px; accent-color: var(--accent); }
        .rating-val { width: 30px; text-align: right; color: var(--accent); font-weight: bold; }
        .save-btn { background: #1a1a1a; color: var(--accent); border: 1px solid var(--accent); width:100%; margin-top:5px; }
        .save-btn.selected { background: var(--accent); color: #000; }

        /* --- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« --- */
        .profile-header { text-align: center; padding: 20px; background: linear-gradient(180deg, #111 0%, #000 100%); }
        .profile-icon { width: 100px; height: 100px; border-radius: 50%; border: 3px solid var(--accent); margin: 0 auto 15px; object-fit: cover; }
        .profile-name { font-size: 22px; font-weight: bold; margin-bottom: 5px; display:flex; justify-content:center; align-items:center; gap:5px; }
        .pro-badge { background: linear-gradient(45deg, #FFD700, #FFA500); color: #000; font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: bold; vertical-align: middle; }
        .profile-meta { font-size: 12px; color: #888; margin-bottom: 15px; }
        .profile-stats { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
        .stat-box { text-align: center; min-width: 80px; }
        .stat-val { font-size: 18px; font-weight: 800; color: var(--accent); }
        .stat-label { font-size: 10px; color: #666; }
        .profile-bio { font-size: 13px; color: #ccc; line-height: 1.5; padding: 0 20px; margin-bottom: 20px; }
        .coin-balance { font-size:14px; color:var(--coin); margin-bottom:10px; font-weight:bold; cursor:pointer; }
        .subscribed-badge { background: #333; color: #aaa; font-size: 12px; padding: 8px 20px; border-radius: 20px; border: 1px solid #555; margin-top: 10px; display: inline-block; }

        /* --- è¨­å®š --- */
        .settings-container { padding: 20px; }
        .settings-section { margin-bottom: 30px; }
        .settings-title { font-size: 13px; color: var(--text-sub); margin-bottom: 8px; padding-left: 10px; text-transform: uppercase; font-weight: 600; }
        .settings-group { background: var(--card-bg); border-radius: 12px; overflow: hidden; }
        .settings-item { padding: 16px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #2c2c2e; cursor: pointer; }
        .settings-item:last-child { border-bottom: none; }
        .settings-value { font-size:14px; color:#888; }
        .toggle-switch { position: relative; display: inline-block; width: 51px; height: 31px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #39393d; transition: .4s; border-radius: 34px; }
        .toggle-slider:before { position: absolute; content: ""; height: 27px; width: 27px; left: 2px; bottom: 2px; background-color: white; transition: .4s; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        input:checked + .toggle-slider { background-color: var(--toggle-on); }
        input:checked + .toggle-slider:before { transform: translateX(20px); }

        /* FAB */
        .fab { position: fixed; bottom: 30px; right: 20px; width: 60px; height: 60px; background: var(--accent); color: #000; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 30px; box-shadow: 0 4px 20px rgba(255, 215, 0, 0.2); z-index: 50; cursor: pointer; }

        /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
        #modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; display: none; justify-content: center; align-items: center; padding: 20px; }
        .modal-card { background: var(--card-bg); padding: 25px; border-radius: 16px; width: 100%; max-width: 320px; text-align: center; max-height: 90vh; overflow-y: auto; }
        .modal-close { position: absolute; top: 10px; right: 10px; font-size: 24px; color: #888; cursor: pointer; }
        
        /* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */
        .filter-tag { display: inline-block; padding: 6px 12px; border-radius: 20px; background: #333; color: #aaa; font-size: 12px; margin: 4px; cursor: pointer; border: 1px solid transparent; }
        .filter-tag.selected { background: var(--accent); color: #000; border-color: var(--accent); }
        
        /* æ±ºæ¸ˆãƒ•ã‚©ãƒ¼ãƒ  */
        .secure-field { display: flex; align-items: center; background: #000; border: 1px solid #444; border-radius: 8px; padding: 0 10px; margin-bottom: 15px; }
        .secure-icon { color: #888; font-size: 18px; margin-right: 10px; }
        .secure-input { background: transparent; border: none; color: #fff; margin: 0; padding: 12px 0; font-family: monospace; }
        .secure-note { font-size: 10px; color: #666; text-align: center; margin-top: 10px; display: flex; align-items: center; justify-content: center; gap: 5px; }

        /* AI Chat */
        .chat-container { display: flex; flex-direction: column; height: 400px; background: #111; border-radius: 12px; overflow: hidden; margin-top:20px; }
        .chat-area { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        .chat-bubble { max-width: 80%; padding: 10px; border-radius: 12px; font-size: 14px; line-height: 1.4; }
        .bubble-ai { background: #333; align-self: flex-start; border-bottom-left-radius: 2px; }
        .bubble-user { background: var(--accent); color: #000; align-self: flex-end; border-bottom-right-radius: 2px; font-weight: bold; }
        .chat-input-area { padding: 10px; background: #222; display: flex; gap: 10px; }

        /* ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ©ãƒ³ã‚­ãƒ³ã‚°ç”¨ */
        .user-card { display: flex; align-items: center; justify-content: space-between; background: var(--card-bg); padding: 15px; border-radius: 12px; margin-bottom: 10px; cursor: pointer; }
        .user-card-left { display: flex; align-items: center; gap: 12px; }
        .user-rank-num { font-size: 16px; font-weight: bold; color: #666; width: 25px; }
        .user-rank-num.top3 { color: var(--accent); font-size: 20px; }
        .user-score { font-size: 18px; font-weight: 800; color: var(--accent); }

    </style>
</head>
<body>

    <div id="menu-overlay" onclick="toggleMenu()"></div>
    <div id="side-menu">
        <div class="menu-search">
            <input type="text" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢..." onkeypress="if(event.key==='Enter') { performSearch(this.value); toggleMenu(); }">
        </div>
        <div class="menu-header" onclick="menuAction('profile-screen', true)">
            <div class="menu-user-icon">
                <img id="menu-icon-img" src="" style="display:none;">
                <span id="menu-icon-placeholder">ğŸ‘¤</span>
            </div>
            <div>
                <div class="menu-user-name" id="menu-username">Guest</div>
                <div class="menu-user-rank" id="menu-userrank">Rate: --</div>
            </div>
        </div>
        <div class="menu-list">
            <div class="menu-item" onclick="menuAction('timeline-screen')">
                <span class="menu-icon">ğŸ•˜</span> ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
            </div>
            <div class="menu-item" onclick="menuAction('ranking-screen')">
                <span class="menu-icon">ğŸ”¥</span> æŠ•ç¨¿ãƒ©ãƒ³ã‚­ãƒ³ã‚°
            </div>
            <div class="menu-item" onclick="showCuriousList()">
                <span class="menu-icon">ğŸ¤”</span> æ°—ã«ãªã‚‹ãƒªã‚¹ãƒˆ
            </div>
            <div class="menu-item" onclick="menuAction('user-ranking-screen')">
                <span class="menu-icon">ğŸ‘‘</span> ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ©ãƒ³ã‚­ãƒ³ã‚°
            </div>
            <div class="menu-item" onclick="checkMemberAccess('bookmarks-screen')">
                <span class="menu-icon">ğŸ“‚</span> ãƒã‚¤å˜èªå¸³
            </div>
            <div class="menu-item" onclick="checkMemberAccess('ai-practice-screen')">
                <span class="menu-icon">ğŸ¤–</span> AIå£æ‰“ã¡ç·´ç¿’ <span style="font-size:10px; color:var(--accent); border:1px solid var(--accent); padding:1px 3px; border-radius:3px; margin-left:5px;">NEW</span>
            </div>
            <div class="menu-item" onclick="checkMemberAccess(null, 'company')">
                <span class="menu-icon">ğŸ¢</span> ç¤¾å†…é™å®šãƒ—ãƒ©ãƒ³
            </div>
            <hr style="border:0; border-top:1px solid #333; margin:10px 20px;">
            <div class="menu-item" onclick="menuAction('settings-screen')">
                <span class="menu-icon">âš™ï¸</span> è¨­å®š / ãŠå•ã„åˆã‚ã›
            </div>
        </div>
        <div style="padding: 20px; font-size: 11px; color: #555; text-align: center;">Closer v7.2.1</div>
    </div>

    <div id="welcome-screen" class="screen active" style="justify-content:center; align-items:center; text-align:center; padding:40px; background: radial-gradient(circle at center, #222 0%, #000 100%);">
        <div style="margin-bottom: 60px;">
            <div style="font-size:48px; font-weight:900; margin-bottom:10px;">ğŸ”‘ Closer</div>
            <div style="font-size:14px; color:#888;">å–¶æ¥­ã®ã€Œç¾å ´çŸ¥ã€å…±æœ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </div>
        </div>
        <div style="width: 100%; max-width: 320px;">
            <button class="btn btn-outline" onclick="startAsGuest()">ç™»éŒ²ãªã—ã§è©¦ã™</button>
            <button class="btn btn-gold" onclick="navTo('auth-screen')">ãƒ­ã‚°ã‚¤ãƒ³ / æ–°è¦ç™»éŒ²</button>
        </div>
    </div>

    <div id="auth-screen" class="screen">
        <div class="app-header" style="justify-content: flex-start;">
             <div class="menu-btn" onclick="navTo('welcome-screen')" style="font-size:20px;">â† TOP</div>
        </div>
        <div style="padding:20px; text-align:center;"><h2>Members Only</h2></div>
        <div class="auth-tabs">
            <div class="auth-tab" id="tab-register" onclick="switchAuthTab('register')">æ–°è¦ç™»éŒ²</div>
            <div class="auth-tab" id="tab-login" onclick="switchAuthTab('login')">ãƒ­ã‚°ã‚¤ãƒ³</div>
        </div>
        <div id="auth-flow-register" style="padding:20px;">
            <div id="reg-step-1">
                <label style="font-size:12px; color:#888;">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                <input type="email" id="reg-email" placeholder="example@email.com">
                <button class="btn btn-gold" onclick="checkDeviceAndSendCode()">èªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’é€ä¿¡</button>
            </div>
            <div id="reg-step-2" style="display:none;">
                <label style="font-size:12px; color:#888;">èªè¨¼ã‚³ãƒ¼ãƒ‰</label>
                <input type="tel" id="reg-code" placeholder="4æ¡ã®ã‚³ãƒ¼ãƒ‰">
                <button class="btn btn-gold" onclick="verifyCode()">èªè¨¼</button>
            </div>
            <div id="reg-step-3" style="display:none;">
                <p style="font-size:12px; color:#888; margin-bottom:5px;">åŸºæœ¬æƒ…å ±</p>
                <input type="text" id="reg-name" placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ ">
                <input type="password" id="reg-pass" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰(5-15æ–‡å­—)">
                <input type="date" id="reg-birth" style="color-scheme: dark;">
                <label style="font-size:12px; color:#888;">å–ã‚Šæ‰±ã„å•†æï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</label>
                <div class="tag-container" id="product-tags"></div>
                <button class="btn btn-gold" onclick="goToBioStep()">æ¬¡ã¸</button>
            </div>
            <div id="reg-step-4" style="display:none;">
                <p style="font-size:12px; color:#888; margin-bottom:5px;">è©³ç´°ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</p>
                <div class="avatar-uploader" onclick="document.getElementById('file-input').click()">
                    <div id="avatar-preview" class="placeholder">ğŸ“·</div>
                    <img id="avatar-img" src="" style="display:none;">
                </div>
                <input type="file" id="file-input" accept="image/*" style="display:none;" onchange="previewImage(this)">
                <input type="text" id="reg-history" placeholder="ç¤¾æ­´ï¼ˆä¾‹ï¼šæ ªå¼ä¼šç¤¾ã€‡ã€‡ 3å¹´ï¼‰">
                <input type="text" id="reg-role" placeholder="å½¹è·ï¼ˆä¾‹ï¼šå–¶æ¥­éƒ¨é•·ï¼‰">
                <textarea id="reg-bio" rows="3" placeholder="è‡ªå·±ç´¹ä»‹"></textarea>
                <button class="btn btn-gold" onclick="completeRegistration()">ç™»éŒ²å®Œäº†</button>
            </div>
        </div>
        <div id="auth-flow-login" style="padding:20px; display:none;">
            <input type="email" id="login-email" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹">
            <input type="password" id="login-pass" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰">
            <button class="btn btn-gold" onclick="doLogin()">ãƒ­ã‚°ã‚¤ãƒ³</button>
        </div>
    </div>

    <div id="timeline-screen" class="screen">
        <div class="app-header">
            <div class="menu-btn" onclick="toggleMenu()">â˜°</div>
            <div class="logo-btn" onclick="randomizeTimeline()">
                <span class="logo-icon">ğŸ”‘</span>
                <span class="logo-text" style="color:var(--accent);">Closer</span>
            </div>
            <div class="header-action" onclick="openFilterModal()">ğŸŒªï¸</div>
        </div>
        <div id="timeline-label" style="padding:10px 15px; color:#888; font-size:12px;">æ–°ç€ã®æ‚©ã¿</div>
        <div class="content" id="timeline-list"></div>
        <div class="fab" onclick="checkMemberAccess(null, 'post')">ï¼‹</div>
    </div>

    <div id="ranking-screen" class="screen">
        <div class="app-header">
            <div class="menu-btn" onclick="toggleMenu()">â˜°</div>
            <div class="logo-btn" onclick="randomizeTimeline()">
                <span class="logo-icon">ğŸ”‘</span>
                <span class="logo-text" style="color:var(--accent);">Closer</span>
            </div>
            <div class="header-action" onclick="openFilterModal()">ğŸŒªï¸</div>
        </div>
        <div style="padding:10px 15px; background:linear-gradient(90deg, #333 0%, #000 100%); color:#fff; font-size:14px; font-weight:bold; display:flex; align-items:center; gap:5px;">
            <span>ğŸ”¥</span> éœ€è¦ã®é«˜ã„ãŠé¡Œãƒ©ãƒ³ã‚­ãƒ³ã‚°
        </div>
        <div class="content" id="ranking-list"></div>
    </div>

    <div id="user-ranking-screen" class="screen">
        <div class="app-header">
            <div class="menu-btn" onclick="toggleMenu()">â˜°</div>
            <div class="logo-btn" onclick="refreshApp()">
                <span class="logo-icon">ğŸ”‘</span>
                <span class="logo-text" style="color:var(--accent);">Closer</span>
            </div>
            <div class="header-action"></div>
        </div>
        <div style="padding:10px 15px; background:linear-gradient(90deg, #333 0%, #000 100%); color:var(--accent); font-size:14px; font-weight:bold; display:flex; align-items:center; gap:5px;">
            <span>ğŸ‘‘</span> æœ¬è³ªçš„å–¶æ¥­åŠ›ãƒ©ãƒ³ã‚­ãƒ³ã‚°
        </div>
        <div class="content" id="user-ranking-list"></div>
    </div>

    <div id="detail-screen" class="screen">
        <div class="app-header">
            <div class="menu-btn" onclick="backToPrev()">â†</div>
            <div class="logo-btn" onclick="refreshApp()">
                <span class="logo-icon">ğŸ”‘</span>
                <span class="logo-text" style="color:var(--accent);">Closer</span>
            </div>
            <div class="header-action"></div>
        </div>
        <div class="content">
            <h2 id="detail-title" style="font-size:18px; margin-bottom:10px; padding:0 5px;">ã‚¿ã‚¤ãƒˆãƒ«</h2>
            <div id="detail-context" class="q-context" style="display:none;"></div>
            <div id="detail-tags" class="tags" style="padding:0 5px;"></div>
            <div style="margin-top:20px; margin-bottom:10px; font-size:12px; color:#888; padding:0 5px;">å›ç­”ä¸€è¦§</div>
            <div id="answer-list"></div>
        </div>
    </div>

    <div id="profile-screen" class="screen">
        <div class="app-header">
            <div class="menu-btn" onclick="backToPrev()">â†</div>
            <div class="logo-btn" onclick="refreshApp()">
                <span class="logo-icon">ğŸ”‘</span>
                <span class="logo-text" style="color:var(--accent);">Closer</span>
            </div>
            <div class="header-action"></div>
        </div>
        <div class="profile-header">
            <img id="prof-img" class="profile-icon" src="">
            <div id="prof-name" class="profile-name">Name</div>
            <div id="prof-role" class="profile-meta">Role / Company</div>
            <div class="profile-stats">
                <div class="stat-box"><div class="stat-val" id="prof-rate">--</div><div class="stat-label">Rate</div></div>
                <div class="stat-box"><div class="stat-val" id="prof-answers-count">--</div><div class="stat-label">Answers</div></div>
            </div>
            <div id="prof-coin-display" class="coin-balance" onclick="openWalletModal()" style="display:none;">ğŸª™ -- Coins</div>
            <div id="prof-bio" class="profile-bio">Bio...</div>
            <div style="padding:0 20px;" id="prof-action-area"></div>
        </div>
        <div class="content">
            <div style="font-size:13px; color:#888; margin-bottom:10px;">æœ€è¿‘ã®å…¬é–‹å›ç­”</div>
            <div class="answer-card"><div class="answer-body">ã¾ãšã¯å…±æ„Ÿã™ã‚‹ã“ã¨ã‹ã‚‰å§‹ã‚ã¾ã™...</div></div>
        </div>
    </div>

    <div id="ai-practice-screen" class="screen">
        <div class="app-header">
            <div class="menu-btn" onclick="backToPrev()">â†</div>
            <div class="logo-btn"><span class="logo-icon">ğŸ¤–</span><span class="logo-text" style="color:var(--accent);">AI Training</span></div>
            <div class="header-action"></div>
        </div>
        <div class="content">
            <div style="font-size:16px; font-weight:bold; margin-bottom:10px;">AIå£æ‰“ã¡: ç†ä¸å°½ãªå®¢ãƒ¢ãƒ¼ãƒ‰</div>
            <div class="chat-container">
                <div id="ai-chat-area" class="chat-area">
                    <div class="chat-bubble bubble-ai">ç¤¾é•·ã ã€‚ç”¨ä»¶ã¯æ‰‹çŸ­ã«ãªã€‚ä»Šå¿™ã—ã„ã‚“ã ã€‚</div>
                </div>
                <div class="chat-input-area">
                    <input type="text" id="ai-chat-input" placeholder="ãƒˆãƒ¼ã‚¯ã‚’å…¥åŠ›..." style="margin:0; font-size:14px;">
                    <button class="btn btn-gold" style="width:60px; margin:0;" onclick="sendAIMessage()">é€ä¿¡</button>
                </div>
            </div>
        </div>
    </div>

    <div id="settings-screen" class="screen">
        <div class="sub-header" style="display:flex; align-items:center; padding:15px 20px; border-bottom:1px solid #222;">
            <div onclick="backToPrev()" style="font-size:24px; margin-right:15px; cursor:pointer;">â†</div>
            <div style="font-weight:800; font-size:18px;">Settings</div>
        </div>
        <div class="settings-container">
            <div class="settings-section">
                <div class="settings-title">ğŸ’° Payment & Plan</div>
                <div class="settings-group">
                    <div class="settings-item" onclick="openWalletModal()"><div class="settings-label" style="color:var(--coin);">ğŸª™ ã‚³ã‚¤ãƒ³ç®¡ç† (è³¼å…¥)</div><div class="settings-value">â€º</div></div>
                    <div class="settings-item" onclick="openSystemPlanModal()"><div class="settings-label">ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ©ãƒ³å¤‰æ›´</div><div class="settings-value" id="setting-plan-val">Free</div></div>
                    <div class="settings-item" onclick="openCreatorModal()"><div class="settings-label">è‡ªåˆ†ã®ã‚µãƒ–ã‚¹ã‚¯è¨­å®š</div><div class="settings-value">â€º</div></div>
                </div>
            </div>
            <div class="settings-section">
                <div class="settings-title">ğŸš€ Career (Scout)</div>
                <div class="settings-group">
                    <div class="settings-item">
                        <div class="settings-label">ä¼æ¥­ã‹ã‚‰ã®ã‚¹ã‚«ã‚¦ãƒˆå—å–</div>
                        <label class="toggle-switch"><input type="checkbox" id="setting-scout-toggle" onchange="toggleScout(this)"><span class="toggle-slider"></span></label>
                    </div>
                </div>
            </div>
            <div class="settings-section">
                <div class="settings-title">ğŸ‘¤ Account</div>
                <div class="settings-group">
                    <div class="settings-item" onclick="openProfileEdit()"><div class="settings-label">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†</div><div class="settings-value">â€º</div></div>
                    <div class="settings-item" onclick="logout()"><div class="settings-label" style="color:var(--accent);">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</div></div>
                    <div class="settings-item" onclick="requestAccountDeletion()"><div class="settings-label" style="color:var(--danger);">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤</div></div>
                </div>
            </div>
        </div>
    </div>

    <div id="profile-edit-screen" class="screen">
        <div class="sub-header" style="display:flex; align-items:center; padding:15px 20px; border-bottom:1px solid #222;">
            <div onclick="navTo('settings-screen')" style="font-size:24px; margin-right:15px; cursor:pointer;">â†</div>
            <div style="font-weight:800; font-size:18px;">Edit Profile</div>
        </div>
        <div style="padding:20px;">
            <p style="text-align:center;">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å†™çœŸ</p>
            <div class="avatar-uploader" onclick="document.getElementById('edit-file-input').click()"><div id="edit-avatar-preview" class="placeholder">ğŸ“·</div><img id="edit-avatar-img" src="" style="display:none;"></div>
            <input type="file" id="edit-file-input" accept="image/*" style="display:none;" onchange="previewEditImage(this)">
            <input type="text" id="edit-name" placeholder="åå‰">
            <input type="email" id="edit-email" disabled style="background:#333; color:#777;">
            <input type="text" id="edit-history" placeholder="ç¤¾æ­´">
            <input type="text" id="edit-role" placeholder="å½¹è·">
            <textarea id="edit-bio" rows="3" placeholder="è‡ªå·±ç´¹ä»‹"></textarea>
            <button class="btn btn-gold" onclick="saveProfile()">ä¿å­˜ã™ã‚‹</button>
        </div>
    </div>

    <div id="post-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1500; align-items:center; justify-content:center;">
        <div class="modal-card" style="width:90%; text-align:left;">
            <div class="modal-close" onclick="document.getElementById('post-modal').style.display='none'">Ã—</div>
            <h3 style="text-align:center; margin-top:0;">æ‚©ã¿ã‚’æŠ•ç¨¿</h3>
            <textarea id="post-content" rows="3" placeholder="ä¾‹ï¼šã‚¬ãƒãƒ£åˆ‡ã‚Šã•ã‚ŒãŸæ™‚ã®åˆ‡ã‚Šè¿”ã—ã¯ï¼Ÿ" style="width:100%; margin-bottom:10px;"></textarea>
            <textarea id="post-context" rows="2" placeholder="å‰ææ¡ä»¶ï¼ˆä»»æ„ï¼‰ä¾‹ï¼šãƒ†ãƒ¬ã‚¢ãƒã€ç¤¾é•·ç›¸æ‰‹" style="width:100%; margin-bottom:10px; background:#222; font-size:12px;"></textarea>
            <div style="margin-bottom:10px; font-size:12px; color:#888;">æ¥­ç¨®ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</div>
            <div class="tag-container" id="post-tags-container" style="margin-bottom:15px;"></div>
            <button class="btn btn-gold" onclick="submitPost()">æŠ•ç¨¿ã™ã‚‹</button>
        </div>
    </div>

    <div id="answer-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1500; align-items:center; justify-content:center;">
        <div class="modal-card" style="width:90%; text-align:left;">
            <div class="modal-close" onclick="document.getElementById('answer-modal').style.display='none'">Ã—</div>
            <h3 style="text-align:center; margin-top:0;">å›ç­”ã‚’ä½œæˆ</h3>
            <textarea id="answer-content" rows="4" placeholder="ä¾‹ï¼šã€Œå·¦æ§˜ã§ã”ã–ã„ã¾ã—ãŸã‹ã€‚ãã‚Œã§ã¯æˆ»ã‚Šã®ãŠæ™‚é–“ã ã‘...ã€" style="width:100%; margin-bottom:10px;"></textarea>
            <textarea id="answer-reason" rows="3" placeholder="ç‹™ã„ãƒ»ç†ç”±" style="width:100%; margin-bottom:15px; background:#222; font-size:12px;"></textarea>
            <button class="btn btn-gold" onclick="submitAnswer()">å›ç­”ã‚’æŠ•ç¨¿</button>
        </div>
    </div>

    <div id="filter-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1500; align-items:center; justify-content:center;">
        <div class="modal-card" style="width:90%;">
            <div class="modal-close" onclick="document.getElementById('filter-modal').style.display='none'">Ã—</div>
            <h3 style="margin-top:0;">æ¥­ç¨®ã§çµã‚Šè¾¼ã¿</h3>
            <div style="text-align:left; margin-bottom:15px;">
                <div id="filter-tags-container" style="display:flex; flex-wrap:wrap;"></div>
            </div>
            <button class="btn btn-gold" onclick="applyFilter()">é©ç”¨ã™ã‚‹</button>
            <button class="btn btn-outline" onclick="clearFilter()" style="margin-top:10px;">ã‚¯ãƒªã‚¢</button>
        </div>
    </div>

    <div id="payment-gateway-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:3000; align-items:center; justify-content:center;">
        <div class="modal-card" style="width:90%; max-width:320px;">
            <div class="modal-close" onclick="document.getElementById('payment-gateway-modal').style.display='none'">Ã—</div>
            <h3>ğŸ’³ Secure Payment</h3>
            <p style="font-size:12px; color:#aaa; margin-bottom:20px;">ã‚«ãƒ¼ãƒ‰æƒ…å ±ã¯æš—å·åŒ–ã•ã‚Œã€ã‚µãƒ¼ãƒãƒ¼ã«ã¯ãƒˆãƒ¼ã‚¯ãƒ³ã®ã¿ãŒé€ä¿¡ã•ã‚Œã¾ã™ã€‚</p>
            
            <button class="btn btn-apple" onclick="processPaymentMock('Apple Pay')"></button>
            <div style="font-size:10px; color:#555; margin-bottom:10px;">ã¾ãŸã¯ ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰</div>
            
            <div class="secure-field">
                <span class="secure-icon">ğŸ’³</span>
                <input type="text" class="secure-input" placeholder="Card Number" value="4242 4242 4242 4242">
            </div>
            <div style="display:flex; gap:10px;">
                <div class="secure-field" style="flex:1;">
                    <input type="text" class="secure-input" placeholder="MM/YY" value="12/30">
                </div>
                <div class="secure-field" style="flex:1;">
                    <input type="text" class="secure-input" placeholder="CVC" value="123">
                </div>
            </div>
            
            <button class="btn btn-gold" onclick="processPaymentMock('Credit Card')">Â¥ <span id="pay-amount">0</span> æ”¯æ‰•ã†</button>
            
            <div class="secure-note">
                <span>ğŸ”’ TLS 256-bit Encryption</span>
                <span>âœ… PCI DSS Compliant</span>
            </div>
        </div>
    </div>

    <div id="wallet-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2200; align-items:center; justify-content:center;">
        <div class="modal-card" style="width:90%; max-width:300px;">
            <div class="modal-close" onclick="document.getElementById('wallet-modal').style.display='none'">Ã—</div>
            <h3 style="color:var(--coin);">ğŸª™ Coin Wallet</h3>
            <p style="font-size:24px; font-weight:bold; margin:10px 0;" id="wallet-balance-disp">0 Coins</p>
            <button class="btn btn-coin" onclick="initiateCoinPurchase(500, 500)">500 Coins (Â¥500) è³¼å…¥</button>
            <button class="btn btn-coin" onclick="initiateCoinPurchase(1100, 1000)">1,100 Coins (Â¥1,000) è³¼å…¥</button>
        </div>
    </div>

    <div id="system-plan-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2000; align-items:center; justify-content:center;">
        <div class="modal-card" style="width:90%; max-width:320px;">
            <div class="modal-close" onclick="document.getElementById('system-plan-modal').style.display='none'">Ã—</div>
            <h3>System Plans</h3>
            <button class="btn btn-standard" onclick="subscribeSystem('standard', 500)">Standard (500 Coins)</button>
            <button class="btn btn-premium" onclick="subscribeSystem('premium', 1000)">Premium (1,000 Coins)</button>
            <button class="btn btn-company" onclick="subscribeSystem('company', 30000)">Company (30,000 Coins)</button>
        </div>
    </div>

    <div id="creator-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2000; align-items:center; justify-content:center;">
        <div class="modal-card" style="width:90%; max-width:300px;">
            <div class="modal-close" onclick="document.getElementById('creator-modal').style.display='none'">Ã—</div>
            <h3>ğŸ™ï¸ è‡ªåˆ†ã®ã‚µãƒ–ã‚¹ã‚¯</h3>
            <select id="creator-status"><option value="off">åœæ­¢ä¸­</option><option value="on">å…¬é–‹ä¸­</option></select>
            <input type="number" id="creator-price" placeholder="æœˆé¡ (Coins)" style="margin-top:10px;">
            <button class="btn btn-gold" onclick="saveCreatorSettings()">ä¿å­˜</button>
        </div>
    </div>
    
    <div id="company-code-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2100; align-items:center; justify-content:center;">
        <div class="modal-card" style="width:90%; max-width:300px;">
            <div class="modal-close" onclick="document.getElementById('company-code-modal').style.display='none'">Ã—</div>
            <h3>ğŸ¢ ä¼šç¤¾ã‚³ãƒ¼ãƒ‰å…¥åŠ›</h3>
            <input type="text" id="company-code-input" placeholder="ä¾‹: 123">
            <button class="btn btn-company" onclick="verifyCompanyCode()">å‚åŠ </button>
        </div>
    </div>

    <div id="rating-detail-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1600; align-items:center; justify-content:center;">
        <div class="modal-card" style="width:90%; max-width:300px;">
            <div class="modal-close" onclick="document.getElementById('rating-detail-modal').style.display='none'">Ã—</div>
            <h3>ğŸ“Š è©³ç´°è©•ä¾¡</h3>
            <div class="rating-grid">
                <div class="rating-row"><span>è«–ç†æ€§</span><input type="range" min="1" max="5" value="3" class="rating-slider" id="rate-logic" oninput="updateRateVal('logic', this.value)"><span id="val-logic" class="rating-val">3</span></div>
                <div class="rating-row"><span>ãƒˆãƒ¼ãƒ³</span><input type="range" min="1" max="5" value="3" class="rating-slider" id="rate-tone" oninput="updateRateVal('tone', this.value)"><span id="val-tone" class="rating-val">3</span></div>
                <div class="rating-row"><span>å…±æ„Ÿåº¦</span><input type="range" min="1" max="5" value="3" class="rating-slider" id="rate-empathy" oninput="updateRateVal('empathy', this.value)"><span id="val-empathy" class="rating-val">3</span></div>
            </div>
            <button class="btn btn-gold" onclick="submitDetailRating()">é€ä¿¡</button>
        </div>
    </div>

    <div id="bookmarks-screen" class="screen">
        <div class="app-header">
            <div class="menu-btn" onclick="backToPrev()">â†</div>
            <div class="logo-btn" onclick="refreshApp()"><span class="logo-icon">ğŸ”‘</span><span class="logo-text" style="color:var(--accent);">Closer</span></div>
        </div>
        <div style="padding:40px; text-align:center; color:#666;">ä¿å­˜æ¸ˆã¿ãªã—</div>
    </div>

    <script>
        // --- ãƒ‡ãƒ¼ã‚¿å®šç¾© ---
        let dummyUsers = {
            'Fafa': { name: 'Fafa', role: 'Top Sales', history: 'é€šä¿¡10å¹´', rate: 0, img: '', bio: 'å–¶æ¥­ã¯ç§‘å­¦ã§ã™ã€‚', products: ['é€šä¿¡'], plan: 'free', saved: [], mySubPrice: 500, mySubActive: true, coins: 0, scoutEnabled: true, isPro: true, subscriptions: [] },
            'Sato': { name: 'Sato', role: 'Manager', history: 'ä¸å‹•ç”£5å¹´', rate: 0, img: '', bio: 'æ°—åˆã¨æ ¹æ€§', products: ['ä¸å‹•ç”£'], plan: 'free', saved: [], mySubPrice: 0, mySubActive: false, coins: 0, scoutEnabled: false, isPro: false, subscriptions: [] },
            'Suzuki': { name: 'Suzuki', role: 'Rookie', history: 'SaaS 1å¹´', rate: 0, img: '', bio: 'å‹‰å¼·ä¸­', products: ['SaaSãƒ»IT'], plan: 'free', saved: [], mySubPrice: 0, mySubActive: false, coins: 0, scoutEnabled: true, isPro: false, subscriptions: [] }
        };
        let dummyPosts = [
            { id: 101, title: 'VSã€Œè³‡æ–™ã ã‘é€ã£ã¦ã€', context: 'ä¸­å°ä¼æ¥­ç¤¾é•·ã€ãƒ†ãƒ¬ã‚¢ãƒçµ‚ç›¤', tags: ['é€šä¿¡', 'ä¸­å°ä¼æ¥­'], time: '10åˆ†å‰', curiousCount: 120, userId: 'Fafa', companyId: null, isCurious: false },
            { id: 102, title: 'VSã€Œç¤¾é•·ã¯ä¸åœ¨ã§ã™ã€', context: '', tags: ['ä¸å‹•ç”£', 'å—ä»˜çªç ´'], time: '30åˆ†å‰', curiousCount: 85, userId: 'Sato', companyId: null, isCurious: false },
            { id: 103, title: 'ã€Œäºˆç®—ãŒãªã„ã€ã«å¯¾ã™ã‚‹åˆ‡ã‚Šè¿”ã—', context: 'å•†è«‡çµ‚ç›¤', tags: ['SaaSãƒ»IT'], time: '1æ™‚é–“å‰', curiousCount: 45, userId: 'Suzuki', companyId: null, isCurious: false }
        ];
        let dummyAnswers = [
            { id: 1, postId: 101, user: 'Fafa', isPremium: false, text: 'ã¾ãšã¯ç›¸æ‰‹ã®å¦å®šã‚’å—ã‘æ­¢ã‚ã€ã€Œãã†ã§ã™ã‚ˆã­ã€ã¨å…±æ„Ÿã—ã¦ã‹ã‚‰...', reason:'ã‚¤ã‚¨ã‚¹ãƒ»ãƒãƒƒãƒˆæ³•', votes: {1:0, 5:2}, detailedVotes: {logic:[5], tone:[4], empathy:[5]} },
            { id: 2, postId: 101, user: 'Sato', isPremium: true, text: 'ã€æœ‰æ–™ç´šã€‘æ±ºè£è€…ã«ç›´æ¥åˆºã•ã‚‹ã‚­ãƒ©ãƒ¼ãƒ•ãƒ¬ãƒ¼ã‚º...', reason:'...', votes: {5:0}, detailedVotes: {logic:[], tone:[], empathy:[]} },
            { id: 3, postId: 102, user: 'Suzuki', isPremium: false, text: 'å…ƒæ°—ã‚ˆãæŒ¨æ‹¶ã—ã¦ã€æˆ»ã‚Šæ™‚é–“ã‚’èãï¼', reason:'å˜ç´”æ¥è§¦åŠ¹æœ', votes: {1:5}, detailedVotes: {logic:[], tone:[], empathy:[]} }
        ];
        
        // ä¿®æ­£3: å•†æãƒªã‚¹ãƒˆã®æ‹¡å……
        const products = [
            "ä¸å‹•ç”£", "ä¿é™ºãƒ»é‡‘è", "é€šä¿¡ãƒ»OAæ©Ÿå™¨", "SaaSãƒ»IT", 
            "äººæ", "åºƒå‘Šãƒ»ãƒ¡ãƒ‡ã‚£ã‚¢", "åŒ»ç™‚ãƒ»ä»‹è­·", "å»ºè¨­ãƒ»ãƒªãƒ•ã‚©ãƒ¼ãƒ ", 
            "M&A", "å£«æ¥­", "ãã®ä»–"
        ];
        
        let isGuest = true;
        let prevScreen = 'timeline-screen';
        let currentPostId = null;
        let currentFilters = [];
        let isCompanyMode = false;
        let pendingPayment = null; 
        let targetAnswerIdForRating = null;

        window.onload = function() {
            renderTags('product-tags');
            renderTags('post-tags-container', true);
            renderFilterTags();
            
            const savedUserSession = sessionStorage.getItem('closer_logged_in_user');
            if(savedUserSession) {
                const u = JSON.parse(savedUserSession);
                const storedData = JSON.parse(localStorage.getItem('closer_user'));
                if(storedData && storedData.name === u.name) {
                    dummyUsers[u.name] = storedData;
                    if(!dummyUsers[u.name].subscriptions) dummyUsers[u.name].subscriptions = [];
                    loginSuccess(dummyUsers[u.name]);
                } 
            }
        };

        function refreshApp() {
            calculateAllUserRates();
            const current = document.querySelector('.screen.active');
            if(current && current.id === 'timeline-screen') renderTimeline();
            if(current && current.id === 'ranking-screen') renderRanking();
            if(current && current.id === 'user-ranking-screen') renderUserRanking();
            if(current && current.id === 'detail-screen') renderAnswers(currentPostId);
            if(current && current.id === 'profile-screen') {
                const nameEl = document.getElementById('prof-name');
                if(nameEl) {
                    const name = nameEl.innerText.split(' ')[0];
                    openProfile(name === JSON.parse(sessionStorage.getItem('closer_logged_in_user'))?.name ? 'me' : name);
                }
            }
        }

        // --- ä¿®æ­£1 & 2: æ¤œç´¢ã¨ãƒ©ãƒ³ãƒ€ãƒ æ›´æ–°ç”¨ ---
        function performSearch(keyword) {
            currentFilters = []; // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¯ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('filter-tags-container').innerHTML = '';
            renderTimeline(false, keyword);
            navTo('timeline-screen');
        }

        function randomizeTimeline() {
            // é…åˆ—ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ«
            dummyPosts.sort(() => Math.random() - 0.5);
            refreshApp();
        }

        // --- ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ ---
        function renderFilterTags() {
            const container = document.getElementById('filter-tags-container');
            container.innerHTML = '';
            products.forEach(prod => {
                const tag = document.createElement('div');
                tag.className = 'filter-tag';
                tag.innerText = prod;
                if(currentFilters.includes(prod)) tag.classList.add('selected');
                tag.onclick = function() { this.classList.toggle('selected'); };
                container.appendChild(tag);
            });
        }
        function openFilterModal() { renderFilterTags(); document.getElementById('filter-modal').style.display = 'flex'; }
        function applyFilter() {
            currentFilters = Array.from(document.querySelectorAll('#filter-tags-container .filter-tag.selected')).map(el => el.innerText);
            renderTimeline();
            document.getElementById('filter-modal').style.display = 'none';
        }
        function clearFilter() { currentFilters = []; renderTimeline(); document.getElementById('filter-modal').style.display = 'none'; }

        // --- ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼ˆæ¤œç´¢å¯¾å¿œï¼‰ ---
        function renderTimeline(showOnlyCurious = false, searchKeyword = null) {
            const list = document.getElementById('timeline-list');
            list.innerHTML = '';
            const filteredPosts = dummyPosts.filter(p => {
                if(isCompanyMode && p.companyId !== 'CORP123') return false; 
                if(!isCompanyMode && p.companyId !== null) return false;
                if(showOnlyCurious && !p.isCurious) return false;
                if(currentFilters.length > 0 && !p.tags.some(tag => currentFilters.includes(tag))) return false;
                
                // æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ¤å®š
                if(searchKeyword) {
                    const k = searchKeyword.toLowerCase();
                    const inTitle = p.title.toLowerCase().includes(k);
                    const inTags = p.tags.some(t => t.toLowerCase().includes(k));
                    if(!inTitle && !inTags) return false;
                }
                
                return true;
            });
            if(filteredPosts.length === 0) { list.innerHTML = '<div style="text-align:center; padding:40px; color:#666;">æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“</div>'; return; }
            filteredPosts.forEach(p => {
                const div = document.createElement('div');
                div.className = 'card';
                div.onclick = () => openDetail(p.id);
                div.innerHTML = `
                    <div class="card-meta"><span>${p.time}</span><div class="card-user" onclick="event.stopPropagation(); openProfile('${p.userId}')">ğŸ‘¤ ${p.userId}</div></div>
                    <div class="q-title">${p.title}</div>
                    <div class="tags">${p.tags.map(t=>`<span class="tag">${t}</span>`).join('')}</div>
                    <div class="card-actions">
                         <div class="action-item ${p.isCurious?'active':''}" onclick="event.stopPropagation(); toggleCurious(${p.id})">ğŸ¤” (${p.curiousCount})</div>
                         <div class="action-item" onclick="event.stopPropagation(); openAnswerModal(${p.id})">ğŸ’¬ å›ç­”</div>
                    </div>`;
                list.appendChild(div);
            });
        }

        // --- å›ç­”ã¨ã‚µãƒ–ã‚¹ã‚¯è§£é™¤ ---
        function renderAnswers(postId) {
            const list = document.getElementById('answer-list');
            list.innerHTML = '';
            const postAnswers = dummyAnswers.filter(a => a.postId === postId);
            postAnswers.forEach(ans => {
                const div = document.createElement('div');
                div.className = 'answer-card';
                let isUnlocked = false;
                if(!isGuest) {
                    const myName = JSON.parse(sessionStorage.getItem('closer_logged_in_user')).name;
                    if(dummyUsers[myName].subscriptions && dummyUsers[myName].subscriptions.includes(ans.user)) isUnlocked = true;
                }
                let content = '';
                if(ans.isPremium && !isUnlocked) {
                    content = `
                        <div class="blur-content">${ans.text}</div>
                        <div class="unlock-overlay">
                            <span style="font-size:30px;">ğŸ”’</span>
                            <span style="color:#fff; font-size:12px; margin-top:5px;">Premium Content</span>
                            <button class="btn btn-premium" style="width:auto; margin-top:10px; font-size:12px; padding:5px 15px;" onclick="unlockUserSub('${ans.user}')">
                                ${ans.user}ã®ã‚µãƒ–ã‚¹ã‚¯ã§è§£é™¤
                            </button>
                        </div>`;
                } else {
                    content = `<div class="answer-body">${ans.text}</div><div class="answer-reason">ğŸ’¡ ${ans.reason}</div>`;
                }
                div.innerHTML = `
                    <div class="answer-header">
                        <div class="answer-author" onclick="openProfile('${ans.user}')">ğŸ‘¤ ${ans.user} ${dummyUsers[ans.user]?.isPro?'<span class="pro-badge">PRO</span>':''}</div>
                    </div>
                    <div style="position:relative;">${content}</div>`;
                list.appendChild(div);
            });
        }

        // --- æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ  (Token Mock) ---
        function initiateCoinPurchase(coins, amount) {
            pendingPayment = { type: 'coin', coins: coins, amount: amount };
            document.getElementById('pay-amount').innerText = amount;
            document.getElementById('wallet-modal').style.display = 'none';
            document.getElementById('payment-gateway-modal').style.display = 'flex';
        }
        function processPaymentMock(method) {
            const btn = event.target;
            const originalText = btn.innerText;
            btn.innerText = "ğŸ”’ Processing Token...";
            btn.disabled = true;
            setTimeout(() => {
                btn.innerText = "âœ… Authorized";
                setTimeout(() => {
                    document.getElementById('payment-gateway-modal').style.display = 'none';
                    btn.innerText = originalText;
                    btn.disabled = false;
                    if(pendingPayment && pendingPayment.type === 'coin') {
                        const myName = JSON.parse(sessionStorage.getItem('closer_logged_in_user')).name;
                        dummyUsers[myName].coins += pendingPayment.coins;
                        localStorage.setItem('closer_user', JSON.stringify(dummyUsers[myName]));
                        alert(`${pendingPayment.coins} Coins ã‚’è³¼å…¥ã—ã¾ã—ãŸï¼`);
                        refreshApp();
                    }
                    pendingPayment = null;
                }, 500);
            }, 1500);
        }

        // --- ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ ---
        function unlockUserSub(targetUser) {
            if(isGuest) return alert("ä¼šå“¡é™å®šã§ã™");
            const creator = dummyUsers[targetUser];
            const cost = creator.mySubPrice;
            const myName = JSON.parse(sessionStorage.getItem('closer_logged_in_user')).name;
            if(dummyUsers[myName].coins < cost) { alert("ã‚³ã‚¤ãƒ³ä¸è¶³ã§ã™"); openWalletModal(); return; }
            if(confirm(`${targetUser}ã®ã‚µãƒ–ã‚¹ã‚¯(${cost} Coins/æœˆ)ã«åŠ å…¥ã—ã¾ã™ã‹ï¼Ÿ`)) {
                dummyUsers[myName].coins -= cost;
                if(!dummyUsers[myName].subscriptions) dummyUsers[myName].subscriptions = [];
                dummyUsers[myName].subscriptions.push(targetUser);
                localStorage.setItem('closer_user', JSON.stringify(dummyUsers[myName]));
                alert("åŠ å…¥ã—ã¾ã—ãŸï¼ã™ã¹ã¦ã®å›ç­”ãŒé–²è¦§å¯èƒ½ã§ã™ã€‚");
                refreshApp(); 
            }
        }

        function openProfile(userId) {
            let u;
            const myName = isGuest ? '' : JSON.parse(sessionStorage.getItem('closer_logged_in_user')).name;
            u = (userId === 'me') ? dummyUsers[myName] : dummyUsers[userId];
            if(!u) return;
            document.getElementById('prof-name').innerHTML = u.name + (u.isPro ? ' <span class="pro-badge">PRO</span>' : '');
            document.getElementById('prof-role').innerText = `${u.role || '--'}`;
            document.getElementById('prof-rate').innerText = u.rate || '0.00';
            document.getElementById('prof-answers-count').innerText = u.answerCount || '0';
            const actionArea = document.getElementById('prof-action-area');
            actionArea.innerHTML = '';
            if(userId !== 'me' && u.mySubActive) {
                if(dummyUsers[myName].subscriptions && dummyUsers[myName].subscriptions.includes(u.name)) {
                    actionArea.innerHTML = `<span class="subscribed-badge">âœ… Subscribed</span>`;
                } else {
                    const subBtn = document.createElement('button');
                    subBtn.className = 'btn btn-premium';
                    subBtn.innerText = `â˜… ${u.name}ã®ã‚µãƒ–ã‚¹ã‚¯ (${u.mySubPrice} Coins/æœˆ)`;
                    subBtn.onclick = function() { unlockUserSub(u.name); };
                    actionArea.appendChild(subBtn);
                }
            }
            if(userId === 'me') {
                document.getElementById('prof-coin-display').style.display = 'block';
                document.getElementById('prof-coin-display').innerText = `ğŸª™ ${u.coins} Coins`;
            } else {
                document.getElementById('prof-coin-display').style.display = 'none';
            }
            navTo('profile-screen');
        }

        // --- ãã®ä»–æ©Ÿèƒ½ ---
        function renderTags(elementId, isSelectable = false) {
            const container = document.getElementById(elementId);
            container.innerHTML = '';
            products.forEach(p => {
                const tag = document.createElement('div');
                tag.className = 'choice-tag';
                tag.innerText = p;
                if(isSelectable) tag.onclick = function() { this.classList.toggle('selected'); };
                container.appendChild(tag);
            });
        }
        function calculateAllUserRates() {
            Object.keys(dummyUsers).forEach(username => {
                const userAnswers = dummyAnswers.filter(a => a.user === username);
                const count = userAnswers.length;
                if (count === 0) { dummyUsers[username].rate = "0.00"; dummyUsers[username].answerCount = 0; return; }
                let totalScore = 0;
                userAnswers.forEach(a => {
                    let ansScore = 0;
                    if(a.detailedVotes && a.detailedVotes.logic && a.detailedVotes.logic.length > 0) {
                        const avg = (arr) => arr.reduce((a,b)=>a+b,0)/arr.length;
                        ansScore = (avg(a.detailedVotes.logic) + avg(a.detailedVotes.tone) + avg(a.detailedVotes.empathy)) / 3;
                    } else {
                        const votes = a.votes;
                        const totalVotes = votes[1]+votes[2]+votes[3]+votes[4]+(votes[5]||0);
                        if(totalVotes > 0) ansScore = (1*votes[1] + 2*votes[2] + 3*votes[3] + 4*votes[4] + 5*(votes[5]||0)) / totalVotes;
                    }
                    totalScore += ansScore;
                });
                const finalRate = (totalScore / count) + Math.log2(count + 1);
                dummyUsers[username].rate = finalRate.toFixed(2);
                dummyUsers[username].answerCount = count;
            });
        }
        function renderRanking() {
             const list = document.getElementById('ranking-list');
             list.innerHTML = '';
             const sortedPosts = [...dummyPosts].filter(p => p.companyId === null).sort((a, b) => b.curiousCount - a.curiousCount);
             sortedPosts.forEach((p, index) => {
                 p.rank = index + 1;
                 const div = document.createElement('div');
                 div.className = 'card';
                 div.onclick = () => openDetail(p.id);
                 div.innerHTML = `
                    <div class="card-meta"><span class="rank-badge">NO.${p.rank}</span><div class="card-user" onclick="event.stopPropagation(); openProfile('${p.userId}')">ğŸ‘¤ ${p.userId}</div></div>
                    <div class="q-title">${p.title}</div>
                    <div class="tags">${p.tags.map(t=>`<span class="tag">${t}</span>`).join('')}</div>
                    <div class="card-actions"><div class="action-item" onclick="event.stopPropagation(); toggleCurious(${p.id})">ğŸ¤” (${p.curiousCount})</div><div class="action-item" onclick="event.stopPropagation(); openAnswerModal(${p.id})">ğŸ’¬ å›ç­”</div></div>`;
                 list.appendChild(div);
             });
        }
        function renderUserRanking() {
            const list = document.getElementById('user-ranking-list');
            const sortedUsers = Object.entries(dummyUsers).sort(([,a], [,b]) => parseFloat(b.rate) - parseFloat(a.rate));
            list.innerHTML = '';
            sortedUsers.forEach(([key, u], index) => {
                if(u.rate === "0.00") return;
                const div = document.createElement('div');
                div.className = 'user-card';
                div.onclick = () => openProfile(key);
                div.innerHTML = `
                    <div class="user-card-left">
                        <div class="user-rank-num ${index < 3 ? 'top3' : ''}">${index + 1}</div>
                        <div class="menu-user-icon" style="width:40px; height:40px; font-size:20px;">${u.img ? `<img src="${u.img}">` : 'ğŸ‘¤'}</div>
                        <div><div style="font-weight:bold;">${u.name} ${u.isPro ? '<span class="pro-badge">PRO</span>' : ''}</div><div style="font-size:11px; color:#888;">${u.role || '--'}</div></div>
                    </div>
                    <div class="user-score">${u.rate}</div>`;
                list.appendChild(div);
            });
        }
        function openDetail(postId) {
            currentPostId = postId;
            const post = dummyPosts.find(p => p.id === postId);
            document.getElementById('detail-title').innerText = post.title;
            const contextEl = document.getElementById('detail-context');
            if(post.context) { contextEl.innerText = post.context; contextEl.style.display = 'block'; }
            else { contextEl.style.display = 'none'; }
            document.getElementById('detail-tags').innerHTML = post.tags.map(t=>`<span class="tag">${t}</span>`).join('');
            navTo('detail-screen');
            renderAnswers(postId);
        }
        
        // ä¿®æ­£5: æ°—ã«ãªã‚‹ãƒœã‚¿ãƒ³å³æ™‚åæ˜ 
        function toggleCurious(postId) {
            const post = dummyPosts.find(p => p.id === postId);
            if(post) { 
                post.isCurious = !post.isCurious; 
                post.curiousCount += post.isCurious ? 1 : -1; 
                refreshApp(); // UIæ›´æ–°
            }
        }

        function subscribeSystem(plan, cost) {
            const myName = JSON.parse(sessionStorage.getItem('closer_logged_in_user')).name;
            if(dummyUsers[myName].coins < cost) { alert("ã‚³ã‚¤ãƒ³ä¸è¶³"); openWalletModal(); return; }
            if(confirm(`æ¶ˆè²»: ${cost} Coins`)) {
                dummyUsers[myName].coins -= cost; dummyUsers[myName].plan = plan;
                localStorage.setItem('closer_user', JSON.stringify(dummyUsers[myName]));
                alert("ç™»éŒ²å®Œäº†"); document.getElementById('system-plan-modal').style.display='none';
            }
        }
        function saveCreatorSettings() {
            const status = document.getElementById('creator-status').value;
            const price = document.getElementById('creator-price').value;
            const myName = JSON.parse(sessionStorage.getItem('closer_logged_in_user')).name;
            dummyUsers[myName].mySubActive = (status === 'on');
            dummyUsers[myName].mySubPrice = parseInt(price);
            localStorage.setItem('closer_user', JSON.stringify(dummyUsers[myName]));
            alert("è¨­å®šä¿å­˜"); document.getElementById('creator-modal').style.display='none';
        }
        function sendAIMessage() {
            const input = document.getElementById('ai-chat-input');
            const text = input.value; if(!text) return;
            const chatArea = document.getElementById('ai-chat-area');
            const b = document.createElement('div'); b.className='chat-bubble bubble-user'; b.innerText=text;
            chatArea.appendChild(b); input.value='';
            setTimeout(()=>{
                const a=document.createElement('div'); a.className='chat-bubble bubble-ai';
                a.innerText = "äºˆç®—ãŒãªã„ã£ã¦è¨€ã£ã¦ã‚‹ã ã‚ã€‚å¸°ã£ã¦ãã‚Œã€‚";
                chatArea.appendChild(a);
            },1000);
        }
        function openWalletModal() { document.getElementById('wallet-modal').style.display='flex'; }
        function openAnswerModal(id) { currentPostId=id; document.getElementById('answer-modal').style.display='flex'; }
        function openPostModal() { document.getElementById('post-modal').style.display='flex'; }
        function submitPost() {
             const t=document.getElementById('post-content').value;
             if(!t)return;
             dummyPosts.unshift({id:Date.now(), title:t, tags:['ãã®ä»–'], time:'Now', curiousCount:0, userId:JSON.parse(sessionStorage.getItem('closer_logged_in_user')).name, companyId:null, isCurious: false});
             refreshApp(); document.getElementById('post-modal').style.display='none';
        }

        // ä¿®æ­£4: å›ç­”æŠ•ç¨¿ãƒã‚°ã®ä¿®æ­£
        function submitAnswer() {
             const t = document.getElementById('answer-content').value;
             if(!t) return;
             
             // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—ã®å®‰å…¨åŒ–
             const userSession = sessionStorage.getItem('closer_logged_in_user');
             const userName = userSession ? JSON.parse(userSession).name : 'Guest';

             dummyAnswers.push({
                 id: Date.now(), 
                 postId: currentPostId, 
                 user: userName, 
                 text: t, 
                 reason: '', 
                 votes: {}, 
                 isPremium: false
             });
             
             document.getElementById('answer-content').value = ''; // å…¥åŠ›ã‚¯ãƒªã‚¢
             document.getElementById('answer-modal').style.display = 'none'; // ãƒ¢ãƒ¼ãƒ€ãƒ«é–‰ã˜ã‚‹
             refreshApp(); // ç”»é¢æ›´æ–°
        }

        function openRatingDetail(answerId) {
            if(isGuest) { if(confirm("ç™»éŒ²ã—ã¾ã™ã‹ï¼Ÿ")) navTo('auth-screen'); return; }
            targetAnswerIdForRating = answerId;
            document.getElementById('rating-detail-modal').style.display = 'flex';
        }
        function updateRateVal(type, val) { document.getElementById('val-'+type).innerText = val; }
        function submitDetailRating() {
            const l = parseInt(document.getElementById('rate-logic').value);
            const t = parseInt(document.getElementById('rate-tone').value);
            const e = parseInt(document.getElementById('rate-empathy').value);
            const ans = dummyAnswers.find(a => a.id === targetAnswerIdForRating);
            if(!ans.detailedVotes) ans.detailedVotes = {logic:[], tone:[], empathy:[]};
            ans.detailedVotes.logic.push(l); ans.detailedVotes.tone.push(t); ans.detailedVotes.empathy.push(e);
            alert("é€ä¿¡å®Œäº†"); document.getElementById('rating-detail-modal').style.display = 'none'; refreshApp(); 
        }
        function checkMemberAccess(s,m){ if(isGuest){ if(confirm("ç™»éŒ²ã—ã¾ã™ã‹ï¼Ÿ")) navTo('auth-screen'); return; } if(m==='post')openPostModal(); else if(m==='company')document.getElementById('company-code-modal').style.display='flex'; else if(s) menuAction(s); }
        function navTo(s){ document.querySelectorAll('.screen').forEach(x=>x.classList.remove('active')); document.getElementById(s).classList.add('active'); if(document.getElementById('side-menu').classList.contains('open')) toggleMenu(); }
        function toggleMenu(){ document.getElementById('side-menu').classList.toggle('open'); document.getElementById('menu-overlay').classList.toggle('open'); }
        function backToPrev(){ navTo('timeline-screen'); }
        function switchAuthTab(m){ document.getElementById('auth-flow-register').style.display=m==='register'?'block':'none'; document.getElementById('auth-flow-login').style.display=m==='login'?'block':'none'; }
        function checkDeviceAndSendCode(){ alert("Code: 1234"); document.getElementById('reg-step-1').style.display='none'; document.getElementById('reg-step-2').style.display='block'; }
        function verifyCode(){ document.getElementById('reg-step-2').style.display='none'; document.getElementById('reg-step-3').style.display='block'; }
        function goToBioStep(){ document.getElementById('reg-step-3').style.display='none'; document.getElementById('reg-step-4').style.display='block'; }
        function completeRegistration(){
             const name=document.getElementById('reg-name').value;
             const u={name:name, password:'123', role:'Newcomer', rate:'0.00', coins:0, subscriptions:[]};
             localStorage.setItem('closer_user', JSON.stringify(u)); dummyUsers[name]=u;
             loginSuccess(u);
        }
        function doLogin(){
             const saved=JSON.parse(localStorage.getItem('closer_user'));
             if(saved) loginSuccess(saved); else alert("ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã„ã¾ã›ã‚“");
        }
        function loginSuccess(u){ isGuest=false; sessionStorage.setItem('closer_logged_in_user', JSON.stringify(u)); document.getElementById('menu-username').innerText=u.name; refreshApp(); navTo('timeline-screen'); }
        function startAsGuest(){ isGuest=true; sessionStorage.removeItem('closer_logged_in_user'); refreshApp(); navTo('timeline-screen'); }
        function showCuriousList(){ renderTimeline(true); navTo('timeline-screen'); }
        function menuAction(s,p){ if(p) openProfile('me'); else navTo(s); }
        function previewImage(){}
        function saveProfile(){ navTo('settings-screen'); }
        function logout(){ sessionStorage.removeItem('closer_logged_in_user'); location.reload(); }
        function requestAccountDeletion(){ localStorage.removeItem('closer_user'); location.reload(); }
        function verifyCompanyCode(){ 
            if(document.getElementById('company-code-input').value==='123'){ isCompanyMode=true; companyId='CORP123'; alert("å‚åŠ ã—ã¾ã—ãŸ"); document.getElementById('company-code-modal').style.display='none'; refreshApp(); } 
            else alert("ç„¡åŠ¹ã§ã™"); 
        }
    </script>
</body>
</html>
